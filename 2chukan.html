<!DOCTYPE html>
<html lang="ja">
    <link rel="icon" type="image/png" href="bird2.png">
<head>
    <meta charset="UTF-8">
    <title>古文単語クイズ~2学期中間~</title>
    <style>
    body {
        font-family: sans-serif;
        background: #f5f5f5;
        padding: 2em;
        text-align: center;
    }
    .quiz-container {
        background: white;
        padding: 2em;
        border-radius: 10px;
        max-width: 600px;
        margin: auto;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    button {
        display: block;
        width: 100%;
        padding: 1em;
        margin: 0.5em 0;
        border: none;
        border-radius: 5px;
        background: #ececec;
        cursor: pointer;
        transition: background 0.3s;
        font-size: 1em;
    }
    button:hover {
        background: #dcdcdc;
    }
    button:disabled {
        cursor: not-allowed;
        opacity: 0.6;
    }
    .correct {
        background: #c8f7c5 !important;
    }
    .incorrect {
        background: #f7c5c5 !important;
    }
    .kobun {
        font-weight: bold;
        font-size: 1.2em;
        margin-bottom: 0.3em;
    }
    .question {
        color: #555;
        margin-bottom: 1em;
    }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>古文単語クイズ~2学期中間~</h1>
        <p class="kobun" id="kobun"></p>
        <p class="question" id="question"></p>
        <div id="choices"></div>
        <p id="progress"></p>
        <div id="result"></div>
    </div>

    <script>
    const quizData = [
        {
        kobun: "観音を頼み奉らんに、その<u>験</u>なしといふことは、あるまじきことなり。",
        question: "（訳）ご観音様におすがりして、その[ ]がないということは、あるはずがないことだ。",
        answer: "ご利益",
        choices: ["ご経験", "ご挨拶", "ご利益", "ご招待"]
        },
        {
        kobun: "ひとり、灯火のもとに文を広げて、見ぬ世の人を友とするぞ、こよなう慰む<u>わざ</u>なる。",
        question: "（訳）ただ一人、明かりのもとで書物を広げて、（それを書いた）見知らぬ世の人を友とすることは、格段に心が慰められる[ ]である。",
        answer: "こと",
        choices: ["きっかけ", "こと", "わけ", "ばかり"]
        },
        {
        kobun: "夏は夜。月のころは<u>さらなり</u>。",
        question: "（訳）夏は夜（が趣深い）。月の出ている頃は[ ]。",
        answer: "言うまでもない",
        choices: ["言うまでもない", "それほどでもない", "さらによい", "そうではない"]
        },
        {
        kobun: "あまたの<u>手</u>を、片時の間に弾きとりつ。",
        question: "（訳）たくさんの[ ]を、あっという間に習得した。",
        answer: "演奏法",
        choices: ["武術", "演奏法", "遊び", "学問"]
        },
        {
        kobun: "こなたは<u>あらはに</u>や侍らむ。今日しも端におはしましけるかな。",
        question: "（訳）こちらは[ ]はございませんか。今日に限って端近なところにいらっしゃいましたね。",
        answer: "まる見えで",
        choices: ["危険で", "まる見えで", "眺めが悪く", "正面で"]
        },
        {
        kobun: "十七日の<u>つとめて</u>、立つ。",
        question: "（訳）十七日の[ ]、出発する。",
        answer: "早朝",
        choices: ["翌日", "夕方", "夜更け", "早朝"]
        },
        {
        kobun: "<u>おほやけ</u>に御文奉り給ふ。",
        question: "（訳）[ ]にお手紙を差し上げなさる。",
        answer: "天皇",
        choices: ["天皇", "主君", "実家", "都"]
        },
        {
        kobun: "露など<u>あだなる</u>物と思ひけむ",
        question: "（訳）露をどうして[ ]ものと思っていたのだろう。",
        answer: "はかない",
        choices: ["はかない", "恐ろしい", "もどかしい", "つまらない"]
        },
        {
        kobun: "人を見るに、少し心ある<u>きは</u>は、皆このあらましにてぞ一期は過ぐめる。",
        question: "（訳）人を見てみると、少しものの道理がわかる[ ]の人は、みなこの（出家の）心づもりで一生は過ぎてしまうようだ。",
        answer: "少数",
        choices: ["少数", "普通", "程度", "世代"]
        },
        {
        kobun: "をかしげなる児の、<u>あからさまに</u>抱きて遊ばしうつくしむほどに、かい付きて寝たる、いとらうたし。",
        question: "（訳）かわいらしい幼児が、[ ]抱いて遊ばせかわいがっているうちに、抱きついて寝てしまったのは、とてもかわいい",
        answer: "ちょっとの間",
        choices: ["いつものように", "懸命に", "わざとらしく", "ちょっとの間"]
        },
        {
        kobun: "我を知らずして、外を知るといふ<u>理</u>あるべからず。",
        question: "（訳）自分を知らないで、他人を知るという[ ]があるはずがない。",
        answer: "道理",
        choices: ["前例", "論理", "道理", "理想"]
        },
        {
        kobun: "いづくにもあれ、しばし旅立ちたるこそ、目さむる<u>心地</u>すれ。",
        question: "（訳）どこにでもあれ、しばらくよそに泊まるのは、目の覚める（新鮮な）[ ]がする。",
        answer: "気持ち",
        choices: ["予感", "香り", "気持ち", "音"]
        },
        {
        kobun: "<u>才</u>をもととしてこそ、大和魂の世に用ゐらるる方も強う侍らめ。",
        question: "（訳）[ ]を基本としてこそ、実務能力が世間に重んじられるということも確実になるのでございましょう。",
        answer: "学問",
        choices: ["和歌", "学問", "家柄", "人格"]
        },
        {
        kobun: "<u>うつつ</u>の人の乗りたるとなむ、さらに見えぬ。なお下りて見よ。",
        question: "（訳）（卯の花をびっしりと挿したあの牛車には）[ ]の人がのっているとは、まったく思われない。やはり（車から）降りて（自分で）見てごらん。",
        answer: "正気",
        choices: ["正気", "格別", "評判", "普通"]
        },
        {
        kobun: "今日は<u>よろづ</u>を捨てて、参り候ひつるなり。",
        question: "（訳）今日は[ ]をなげうって、参上したのです。",
        answer: "さまざまなこと",
        choices: ["楽しいこと", "急ぎのこと", "めんどうなこと", "さまざまなこと"]
        },
        {
        kobun: "大方はしりたりとも、<u>すずろに</u>言い散らすは、さばかりの才にはあらぬにやと聞こえ、おのづから誤りもありぬべし。",
        question: "（訳）大体は知っていても、[ ]言いちらすのは、さほどしっかりした才能ではないのであろうと思われ、しぜん誤りもあるに違いない。",
        answer: "むやみに",
        choices: ["いい加減に", "むやみに", "そのまま", "意味もなく"]
        },
        {
        kobun: "久しくとどまりたる<u>例</u>なし。",
        question: "（訳）いつまでもとどまっている[ ]はない。",
        answer: "例",
        choices: ["道理", "時間", "例", "理由"]
        },
        {
        kobun: "ふりにける岩の絶え間より、落ちくる水の音さへ、故び<u>よし</u>ある所なり。",
        question: "（訳）古びた岩のすき間から、落ちてくる水の音までが、由緒ありげで[ ]のある所である。",
        answer: "風情",
        choices: ["道理", "風情", "魅力", "哀愁"]
        },
        {
        kobun: "ことに<u>かたくななる</u>人ぞ、「この枝、かの枝、散りにけり。今は見所なし」などは言ふめる。",
        question: "（訳）特に[ ]人に限って、「この枝もあの枝も（花が）散ってしまった。もはや見る価値のあるところもない」などと言うようだ。",
        answer: "情趣を解さない",
        choices: ["愛情のない", "情趣を解さない", "身分が低い", "愚かしい"]
        },
        {
        kobun: "今様は、<u>むげに</u>いやしくこそなりゆくめれ。",
        question: "（訳）当世風は、[ ]下品になっていくようだ。",
        answer: "もちろん",
        choices: ["むやみに", "もちろん", "わずかに", "しだいに"]
        },
        {
        kobun: "三月の<u>つごもり</u>なれば、京の花、盛りはみな過ぎにけり。",
        question: "（訳）陰暦三月の[ ]なので、京の桜の花は、花盛りはみな過ぎてしまった。",
        answer: "月末",
        choices: ["月末", "時節", "月初め", "中旬"]
        },
        {
        kobun: "ことの<u>ついで</u>ありて、人の奏しければ、聞こしめしてけり。",
        question: "（訳）何かの[ ]があって、ある人が奏上したので、（帝は）お聞きになった。",
        answer: "行い",
        choices: ["行い", "機会", "因縁", "命令"]
        },
        {
        kobun: "孝養の心なき者も、子持ちてこそ、親の<u>志</u>は思ひ知るなれ。",
        question: "（訳）親孝行の心のない者も、（自分自身が）子を持って（はじめて）、親の[ ]はわかるものである。",
        answer: "愛情",
        choices: ["命令", "愛情", "人生", "苦労"]
        },
        {
        kobun: "これを習ふべし。学問に<u>便り</u>あらんためなり。",
        question: "（訳）これ（＝文字を書くこと）を習うべきだ。学問をする上で[ ]があるようなためである。",
        answer: "便宜",
        choices: ["便宜", "機会", "影響", "理解"]
        },
        {
        kobun: "いとまばゆき、人の御<u>おぼえ</u>なり。",
        question: "（訳）とても見ていられないほどの、（桐壺の更衣に対する帝の）ご[ ]である。",
        answer: "寵愛",
        choices: ["寵愛", "命令", "不満", "信頼"]
        }
    ];

    let current = 0;
    let correct = 0;
    let wrongQuestions = [];

    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function showQuestion() {
        if (current >= quizData.length) {
        document.getElementById("kobun").textContent = "終了！";
        document.getElementById("question").textContent = "";
        document.getElementById("choices").innerHTML = "";
        document.getElementById("progress").textContent =
          `正答率: ${(correct / quizData.length * 100).toFixed(1)}% (${correct}/${quizData.length})`;

        if (wrongQuestions.length > 0) {
            document.getElementById("result").innerHTML =
            '<h3>間違えた問題:</h3>' +
            wrongQuestions.map(q => `<p>${q.kobun} → ${q.answer}</p>`).join("");
        }
        return;
        }

        const q = quizData[current];
        document.getElementById("kobun").innerHTML = `${current + 1}. 「${q.kobun}」`;
        document.getElementById("question").textContent = q.question;
        document.getElementById("progress").textContent = `問題 ${current + 1} / ${quizData.length}`;

        const container = document.getElementById("choices");
        container.innerHTML = "";

        const shuffledChoices = [...q.choices];
        shuffle(shuffledChoices);

        shuffledChoices.forEach(choice => {
        const btn = document.createElement("button");
        btn.textContent = choice;
        btn.onclick = () => {
            document.querySelectorAll("#choices button").forEach(b => b.disabled = true);

            if (choice === q.answer) {
            correct++;
            btn.classList.add("correct");
            } else {
            btn.classList.add("incorrect");
            wrongQuestions.push({ kobun: q.kobun, answer: q.answer });
            }

            setTimeout(() => {
            current++;
            showQuestion();
            }, 400);
        };
        container.appendChild(btn);
        });
    }

    shuffle(quizData);
    showQuestion();
    </script>
</body>
</html>
